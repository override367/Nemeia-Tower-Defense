html,body{height:100%;width:100%;margin:0;background:#0b1520;overflow:hidden}
#stage{position:fixed;inset:0;display:block}
canvas{position:absolute;inset:0;width:100vw;height:100vh;display:block;background:#17314d}

.overlay{position:absolute;inset:0;display:grid;place-items:center;z-index:99;pointer-events:none}
.overlay .panel{pointer-events:auto;background:rgba(10,14,20,.9);border:1px solid rgba(255,255,255,.12);padding:16px 22px;border-radius:12px;text-align:center;color:#e9eef4}
.diff{background:#0e1b2a;border:1px solid rgba(255,255,255,.15);color:#cfe7ff;padding:6px 12px;border-radius:8px;font-weight:700;cursor:pointer;margin:0 4px}
.diff.primary{background:#16406b}

.toast{position:absolute;left:50%;bottom:10px;transform:translateX(-50%);background:rgba(255,255,255,.9);color:#0b1520;padding:6px 10px;border-radius:999px;font-size:12px;box-shadow:0 8px 16px rgba(0,0,0,.35);z-index:95}
.wavebanner{position:absolute;left:50%;top:60px;transform:translateX(-50%);background:rgba(255,255,255,.95);color:#0b1520;padding:6px 10px;border-radius:10px;font-weight:800;box-shadow:0 8px 16px rgba(0,0,0,.35);z-index:95}

/* Buildbar: tiny translucent strip hugging the top */
.buildbar{position:absolute;left:50%;top:0;transform:translateX(-50%);display:flex;gap:4px;z-index:90;background:rgba(14,27,42,.3);border:1px solid rgba(255,255,255,.18);padding:3px 5px;border-radius:10px}
.sepv{width:1px;height:auto;align-self:stretch;background:rgba(255,255,255,.2);margin:0 3px}
.tile{display:flex;flex-direction:column;align-items:center;gap:2px;padding:3px;border-radius:8px;border:1px solid rgba(255,255,255,.15);background:rgba(14,27,42,.25);cursor:pointer;min-width:40px}
.tile:hover{background:rgba(17,38,63,.35)}
.tile img{display:block;height:auto;object-fit:contain;image-rendering:auto}
.tile .badge{width:36px}
.tile .key{width:33px}
.tile .cost{width:34px}

/* Cursors for modes */
body[data-mode="upgrade"] canvas{cursor:url("images/upgrade.png") 12 12, pointer}
body[data-mode="refund"]  canvas{cursor:url("images/destroy.png") 12 12, pointer}

/* Pleasant blue pause panel */
.panel-blue{
  background:linear-gradient(180deg, rgba(40,74,110,.96), rgba(18,40,70,.96));
  border:1px solid rgba(255,255,255,.16);
  box-shadow:0 12px 36px rgba(10,20,35,.6), inset 0 1px 0 rgba(255,255,255,.08);
  color:#e9f2ff;
}
.vol-rows{display:flex;flex-direction:column;gap:10px;min-width:320px}
.vol-row{display:grid;grid-template-columns:120px 1fr;align-items:center;gap:12px}
.vol-label{justify-self:end;font-weight:800;letter-spacing:.3px;opacity:.95}
.vol-ctrl{display:flex;justify-content:flex-start;align-items:center;gap:12px}
.vol-val{display:inline-block;min-width:24px;text-align:center;font-weight:900;padding:4px 10px;border-radius:8px;background:rgba(255,255,255,.14)}
.volbtn{border:1px solid rgba(255,255,255,.3);background:rgba(255,255,255,.15);color:#fff;font-weight:900;
  width:36px;height:36px;border-radius:9px;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.25)}
.volbtn:hover{background:rgba(255,255,255,.22)}
.pause-hint{opacity:.85;margin-top:10px}
